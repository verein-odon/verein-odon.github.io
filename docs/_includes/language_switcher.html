{% comment %}
  LOGIK: Bestimme die aktuelle Sprache (page.lang) und die Zielsprache.
  LOGIC: Determine the current language (page.lang) and the target language.
{% endcomment %}

<style>
    /* --- Language Switcher Styling --- */

    .language-switcher {
    display: flex;
    gap: 10px; /* Abstand zwischen den Buttons (Space between buttons) */
    font-size: 0.9em;
    font-weight: 600;
    }

    .lang-button {
    padding: 8px 12px;
    border-radius: 6px;
    text-decoration: none;
    transition: all 0.2s ease;
    display: flex;
    align-items: center;
    gap: 5px;
    white-space: nowrap; /* Verhindert Zeilenumbruch (Prevents wrapping) */
    }

    /* Style for the clickable link (Stil fÃ¼r den anklickbaren Link) */
    .language-switcher a.lang-button {
    color: var(--brand-color);
    background-color: var(--code-bg); /* Heller Hintergrund (Light background) */
    border: 1px solid var(--border-color);
    }

    .language-switcher a.lang-button:hover {
    background-color: #e0e7ff; /* Leichter Blauton beim Hover (Lighter blue tint on hover) */
    border-color: var(--brand-color);
    color: var(--brand-color);
    }

    /* Style for the current language (Stil fÃ¼r die aktuelle Sprache) */
    .lang-button.current-lang {
    color: #fff;
    background-color: var(--brand-color); /* Hervorhebungsfarbe (Highlight color) */
    border: 1px solid var(--brand-color);
    cursor: default; /* Nicht anklickbar (Not clickable) */
    }
</style>

{% assign current_lang = page.lang %}
{% assign current_ref = page.ref %}
{% assign target_lang = '' %}

{% if current_lang == 'en' %}
  {% assign target_lang = 'de' %}
  {% assign target_label = 'ðŸ‡©ðŸ‡ª Deutsch' %}
{% else %}
  {% assign target_lang = 'en' %}
  {% assign target_label = 'ðŸ‡ºðŸ‡¸ English' %}
{% endif %}

{% comment %} Finde die entsprechende Seite mit der gleichen 'ref' in der Zielsprache. {% endcomment %}
{% assign target_page_url = nil %}
{% for p in site.pages %}
  {% if p.lang == target_lang and p.ref == current_ref %}
    {% assign target_page_url = p.url %}
    {% break %}
  {% endif %}
{% endfor %}

<div class="language-switcher">
  {% comment %} Zeige den anklickbaren Link zur anderen Sprache, falls vorhanden. {% endcomment %}
  {% if target_page_url %}
    <a href="{{ target_page_url | relative_url }}" class="lang-button">
      {{ target_label }}
    </a>
  {% endif %}

  {% comment %} Zeige die aktuelle Sprache als nicht anklickbaren, hervorgehobenen Button. {% endcomment %}
  <span class="lang-button current-lang">
    {% if current_lang == 'en' %}
      ðŸ‡ºðŸ‡¸ English
    {% else %}
      ðŸ‡©ðŸ‡ª Deutsch
    {% endif %}
  </span>
</div>